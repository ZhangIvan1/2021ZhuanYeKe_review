# 计算机网络知识点汇总（谢希仁 第七版）

### 写在前

```
这篇博客是当时在大二的时候为了学习计网总结的一篇学习笔记，其实当时的做法和抄书差不多，但是时隔两年的时间没想到有这么多的
同学会来关注学习，实在受宠若惊；
现在我已经大四，而且刚刚经历过秋招（2019/12），并且签约了一家薪资待遇不错的Java开发岗，所以在闲下来的时候准备将这篇博客
重新整理一下，主要为了几方面：
一·将之前没有整理到的内容补充详细；
二·为重难点的部分加上详细解释和扩扩展内容——为了方便大家继续学习（很多同学翻这篇博客的目的可能仅仅是为了备考，所以不需要
扩展和解释），所以这次扩展的部分我将写在代码框里，方便区分；
三·为大家标识出面试中常常会问到的计算机网络的知识，同时做扩展补充，方便部分同学应对面试；
```

**目录**

[第一章 概述](#%e7%ac%ac%e4%b8%80%e7%ab%a0%20%e6%a6%82%e8%bf%b0)

[重要内容](#%e9%87%8d%e8%a6%81%e5%86%85%e5%ae%b9%ef%bc%9a)

[计算机网络的一些相关知识](#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e7%9a%84%e4%b8%80%e4%ba%9b%e7%9b%b8%e5%85%b3%e7%9f%a5%e8%af%86)

[互联网概述](#%e4%ba%92%e8%81%94%e7%bd%91%e6%a6%82%e8%bf%b0)

[因特网的标准化工作](#%e5%9b%a0%e7%89%b9%e7%bd%91%e7%9a%84%e6%a0%87%e5%87%86%e5%8c%96%e5%b7%a5%e4%bd%9c)

[互联网的组成](#%e4%ba%92%e8%81%94%e7%bd%91%e7%9a%84%e7%bb%84%e6%88%90)

[计算机网络的类别](#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e7%9a%84%e7%b1%bb%e5%88%ab)

[计算机网络的性能指标](#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e7%9a%84%e6%80%a7%e8%83%bd%e6%8c%87%e6%a0%87)

[计算机网络的体系结构——-分层次的体系结构](#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e7%9a%84%e4%bd%93%e7%b3%bb%e7%bb%93%e6%9e%84%e2%80%94%e2%80%94-%e5%88%86%e5%b1%82%e6%ac%a1%e7%9a%84%e4%bd%93%e7%b3%bb%e7%bb%93%e6%9e%84)

[第二章 物理层](#%e7%ac%ac%e4%ba%8c%e7%ab%a0%20%e7%89%a9%e7%90%86%e5%b1%82)

[重要内容](#%e9%87%8d%e8%a6%81%e5%86%85%e5%ae%b9)

[物理层的基本概念](#%e7%89%a9%e7%90%86%e5%b1%82%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5)

[数据通信的基本知识](#%e6%95%b0%e6%8d%ae%e9%80%9a%e4%bf%a1%e7%9a%84%e5%9f%ba%e6%9c%ac%e7%9f%a5%e8%af%86)

[信道复用技术](#%e4%bf%a1%e9%81%93%e5%a4%8d%e7%94%a8%e6%8a%80%e6%9c%af)

[数字传输系统](#%e6%95%b0%e5%ad%97%e4%bc%a0%e8%be%93%e7%b3%bb%e7%bb%9f)

[宽带接入技术](#%e5%ae%bd%e5%b8%a6%e6%8e%a5%e5%85%a5%e6%8a%80%e6%9c%af)

[第三章 数据链路层](#%e7%ac%ac%e4%b8%89%e7%ab%a0%20%e6%95%b0%e6%8d%ae%e9%93%be%e8%b7%af%e5%b1%82)

[重要内容](#%e9%87%8d%e8%a6%81%e5%86%85%e5%ae%b9)

[使用点对点信道的数据链路层](#%e4%bd%bf%e7%94%a8%e7%82%b9%e5%af%b9%e7%82%b9%e4%bf%a1%e9%81%93%e7%9a%84%e6%95%b0%e6%8d%ae%e9%93%be%e8%b7%af%e5%b1%82)

[封装成帧](#%e5%b0%81%e8%a3%85%e6%88%90%e5%b8%a7)

[透明传输](#%e9%80%8f%e6%98%8e%e4%bc%a0%e8%be%93)

[差错检测](#%e5%b7%ae%e9%94%99%e6%a3%80%e6%b5%8b)

[点对点协议PPP](#%e7%82%b9%e5%af%b9%e7%82%b9%e5%8d%8f%e8%ae%aeppp)

[字节填充](#%e5%ad%97%e8%8a%82%e5%a1%ab%e5%85%85)

[PPP协议的工作状态](#ppp%e5%8d%8f%e8%ae%ae%e7%9a%84%e5%b7%a5%e4%bd%9c%e7%8a%b6%e6%80%81)

[使用广播通信的数据链路层](#%e4%bd%bf%e7%94%a8%e5%b9%bf%e6%92%ad%e9%80%9a%e4%bf%a1%e7%9a%84%e6%95%b0%e6%8d%ae%e9%93%be%e8%b7%af%e5%b1%82)

[适配器的作用](#%e9%80%82%e9%85%8d%e5%99%a8%e7%9a%84%e4%bd%9c%e7%94%a8)

[CSMA/CD协议](#csma%2fcd%e5%8d%8f%e8%ae%ae)

[使用集线器的星形拓扑结构](#%e4%bd%bf%e7%94%a8%e9%9b%86%e7%ba%bf%e5%99%a8%e7%9a%84%e6%98%9f%e5%bd%a2%e6%8b%93%e6%89%91%e7%bb%93%e6%9e%84)

[MAC层的硬件地址](#mac%e5%b1%82%e7%9a%84%e7%a1%ac%e4%bb%b6%e5%9c%b0%e5%9d%80)

[MAC帧的格式](#mac%e5%b8%a7%e7%9a%84%e6%a0%bc%e5%bc%8f)

[以太网的扩展](#%e4%bb%a5%e5%a4%aa%e7%bd%91%e7%9a%84%e6%89%a9%e5%b1%95)

[第四章 网络层](#%e7%ac%ac%e5%9b%9b%e7%ab%a0%20%e7%bd%91%e7%bb%9c%e5%b1%82)

[重要内容](#%e9%87%8d%e8%a6%81%e5%86%85%e5%ae%b9)

[网络层提供的两种服务](#%e7%bd%91%e7%bb%9c%e5%b1%82%e6%8f%90%e4%be%9b%e7%9a%84%e4%b8%a4%e7%a7%8d%e6%9c%8d%e5%8a%a1)

[网际协议IP](#%e7%bd%91%e9%99%85%e5%8d%8f%e8%ae%aeip)

[分类的IP地址](#%e5%88%86%e7%b1%bb%e7%9a%84ip%e5%9c%b0%e5%9d%80)

[地址解析协议ARP](#%e5%9c%b0%e5%9d%80%e8%a7%a3%e6%9e%90%e5%8d%8f%e8%ae%aearp)

[IP数据报的格式](#ip%e6%95%b0%e6%8d%ae%e6%8a%a5%e7%9a%84%e6%a0%bc%e5%bc%8f)

[划分子网](#%e5%88%92%e5%88%86%e5%ad%90%e7%bd%91)

[构造超网](#%e6%9e%84%e9%80%a0%e8%b6%85%e7%bd%91)

[网际控制报文协议ICMP](#%e7%bd%91%e9%99%85%e6%8e%a7%e5%88%b6%e6%8a%a5%e6%96%87%e5%8d%8f%e8%ae%aeicmp)

[互联网的路由选择协议](#%e4%ba%92%e8%81%94%e7%bd%91%e7%9a%84%e8%b7%af%e7%94%b1%e9%80%89%e6%8b%a9%e5%8d%8f%e8%ae%ae)

[1，内部网关协议RIP](#1%ef%bc%8c%e5%86%85%e9%83%a8%e7%bd%91%e5%85%b3%e5%8d%8f%e8%ae%aerip)

[内部网关协议OSPF](#%e5%86%85%e9%83%a8%e7%bd%91%e5%85%b3%e5%8d%8f%e8%ae%aeospf)

[外部网关协议BGP](#%e5%a4%96%e9%83%a8%e7%bd%91%e5%85%b3%e5%8d%8f%e8%ae%aebgp)

[路由器的构成](#%e8%b7%af%e7%94%b1%e5%99%a8%e7%9a%84%e6%9e%84%e6%88%90)

[IPv6](#ipv6)

[从IPv4向IP v6的过渡](#%e4%bb%8eipv4%e5%90%91ip%20v6%e7%9a%84%e8%bf%87%e6%b8%a1)

[IP多播](#ip%e5%a4%9a%e6%92%ad)

[虚拟专用网VPN](#%e8%99%9a%e6%8b%9f%e4%b8%93%e7%94%a8%e7%bd%91vpn)

[网络地址转换NAT](#%e7%bd%91%e7%bb%9c%e5%9c%b0%e5%9d%80%e8%bd%ac%e6%8d%a2nat)

[第五层 运输层](#%e7%ac%ac%e4%ba%94%e5%b1%82%20%e8%bf%90%e8%be%93%e5%b1%82)

[重要内容](#%e9%87%8d%e8%a6%81%e5%86%85%e5%ae%b9)

[运输层协议概述](#%e8%bf%90%e8%be%93%e5%b1%82%e5%8d%8f%e8%ae%ae%e6%a6%82%e8%bf%b0)

[运输层的端口](#%e8%bf%90%e8%be%93%e5%b1%82%e7%9a%84%e7%ab%af%e5%8f%a3)

[用户数据报协议UDP](#%e7%94%a8%e6%88%b7%e6%95%b0%e6%8d%ae%e6%8a%a5%e5%8d%8f%e8%ae%aeudp)

[传输控制协议TCP](#%e4%bc%a0%e8%be%93%e6%8e%a7%e5%88%b6%e5%8d%8f%e8%ae%aetcp)

[可靠传输的原理](#%e5%8f%af%e9%9d%a0%e4%bc%a0%e8%be%93%e7%9a%84%e5%8e%9f%e7%90%86)

[TCP可靠传输的实现](#tcp%e5%8f%af%e9%9d%a0%e4%bc%a0%e8%be%93%e7%9a%84%e5%ae%9e%e7%8e%b0)

[TCP的流量控制](#tcp%e7%9a%84%e6%b5%81%e9%87%8f%e6%8e%a7%e5%88%b6)

[TCP的拥塞控制](#tcp%e7%9a%84%e6%8b%a5%e5%a1%9e%e6%8e%a7%e5%88%b6)

[TCP的运输连接管理](#tcp%e7%9a%84%e8%bf%90%e8%be%93%e8%bf%9e%e6%8e%a5%e7%ae%a1%e7%90%86)

[第六章 应用层](#%e7%ac%ac%e5%85%ad%e7%ab%a0%20%e5%ba%94%e7%94%a8%e5%b1%82)

[本章概述](#%e6%9c%ac%e7%ab%a0%e6%a6%82%e8%bf%b0)

[重要内容](#%e9%87%8d%e8%a6%81%e5%86%85%e5%ae%b9)

[域名系统DNS](#%e5%9f%9f%e5%90%8d%e7%b3%bb%e7%bb%9fdns)

[文件传送协议FTP](#%e6%96%87%e4%bb%b6%e4%bc%a0%e9%80%81%e5%8d%8f%e8%ae%aeftp)

[远程终端协议TELNET](#%e8%bf%9c%e7%a8%8b%e7%bb%88%e7%ab%af%e5%8d%8f%e8%ae%aetelnet)

[万维网WWW](#%e4%b8%87%e7%bb%b4%e7%bd%91www)

[万维网的文档](#%e4%b8%87%e7%bb%b4%e7%bd%91%e7%9a%84%e6%96%87%e6%a1%a3)

[万维网的信息检索](#%e4%b8%87%e7%bb%b4%e7%bd%91%e7%9a%84%e4%bf%a1%e6%81%af%e6%a3%80%e7%b4%a2)

[动态主机配置协议](#%e5%8a%a8%e6%80%81%e4%b8%bb%e6%9c%ba%e9%85%8d%e7%bd%ae%e5%8d%8f%e8%ae%ae)

[应用进程跨网络的通信](#%e5%ba%94%e7%94%a8%e8%bf%9b%e7%a8%8b%e8%b7%a8%e7%bd%91%e7%bb%9c%e7%9a%84%e9%80%9a%e4%bf%a1)

[P2P应用](#p2p%e5%ba%94%e7%94%a8)

[第七章 网络安全](#%e7%ac%ac%e4%b8%83%e7%ab%a0%20%e7%bd%91%e7%bb%9c%e5%ae%89%e5%85%a8)

[重要内容](#%e9%87%8d%e8%a6%81%e5%86%85%e5%ae%b9)

[网络攻击](#%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb)

[密码体制](#%e5%af%86%e7%a0%81%e4%bd%93%e5%88%b6)

[数字签名](#%e6%95%b0%e5%ad%97%e7%ad%be%e5%90%8d)

[鉴别](#%e9%89%b4%e5%88%ab)

[密匙分配](#%e5%af%86%e5%8c%99%e5%88%86%e9%85%8d)

[互联网使用的安全协议](#%e4%ba%92%e8%81%94%e7%bd%91%e4%bd%bf%e7%94%a8%e7%9a%84%e5%ae%89%e5%85%a8%e5%8d%8f%e8%ae%ae)

[系统安全:防火墙与入侵检测](#%e7%b3%bb%e7%bb%9f%e5%ae%89%e5%85%a8%3a%e9%98%b2%e7%81%ab%e5%a2%99%e4%b8%8e%e5%85%a5%e4%be%b5%e6%a3%80%e6%b5%8b)

[第八章 互联网上的音视频服务](#%e7%ac%ac%e5%85%ab%e7%ab%a0%20%e4%ba%92%e8%81%94%e7%bd%91%e4%b8%8a%e7%9a%84%e9%9f%b3%e8%a7%86%e9%a2%91%e6%9c%8d%e5%8a%a1)

[重要内容](#%e9%87%8d%e8%a6%81%e5%86%85%e5%ae%b9)

[第九章 无线网络和移动网络](#%e7%ac%ac%e4%b9%9d%e7%ab%a0%20%e6%97%a0%e7%ba%bf%e7%bd%91%e7%bb%9c%e5%92%8c%e7%a7%bb%e5%8a%a8%e7%bd%91%e7%bb%9c)

# 第一章 概述

### **重要内容**

互联网边缘部分和核心部分的作用，以及分组交换的概念

计算机网络的性能指标

计算机网络的分层次的体系结构的概念，协议和服务的概念，

### 计算机网络的一些相关知识

三网——电信网络，有线电视网络，计算机网络

网络融合——将三种网络的功能融合在一起

计算机网络：也是一种通信基础设施，与其他两种网络不同的是计算机网络的端设备是功能强大的计算机

计算机网络的两个重要的功能：连通和共享

### 互联网概述

**网络，互连（非"联"）网，因特网的概念**

起源于美国的因特网现在是世界上最大的国际性计算机网络

网络由若干节点和连接这些节点的链路组成（节点可以是计算机，集线器，交换机，路由器等）

网络和网络之间通过路由器连接起来，构成了互连网——即网络的网络

因此，网络把许多计算机连接在一起，互连网将许多网络连接在一起

**因特网发展的三个阶段——**

第一阶段：单网络ARANET——1969年美国国防部建立的第一个分组交换网

第二阶段：三级结构的因特网——主干网，地区网，校园网

第三阶段: 多层次IPS（因特网服务提供者）结构的因特网

**因特网交换点IXP**——（更快的转发分组，更有效地利用网络资源）允许两个网络直接相连并交换分组，不需要其他网络来转发分组，IXP常采用工作在数据链路层的网络交换机，这些网络交换机都用局域网互连起来（典型的IXP由一个或多个网络交换机组成，）

### 因特网的标准化工作

所有的互联网标准都是以RFC的形式在互联网上发表的

ISOC——因特网协会

IAB——因特网体系结构委员会

IETF

IRTF

### 互联网的组成

边缘部分（用户直接使用的主机），

核心部分(路由器，为边缘部分提供服务）

边缘部分：端系统之间的通信可以分为两种方式——客户/服务器方式（CS方式），对等方式（P2P方式）（第六章 6.9节）

核心部分：向网络边缘部分的主机提供连通性服务，其核心部件是实现分组交换的路由器（用来转发分组）

两个概念：电路交换与分组交换

电路交换：建立连接——通话——释放连接（两个用户在连接期间始终占用端到端的通信资源）（连接指专用的物理通道）

分组交换：存储转发，将报文（要发送的整块数据）划分为几个分组，利用相关控制信息进行分装为数据单元 ，然后进行转发

### 计算机网络的类别

**1，按作用范围分**

广域网

城域网

局域网

个人区域网

**2，按网络的使用者**

公用网

专用网

**3，用来把端主机接入因特网的网络**

接入网

### 计算机网络的性能指标

**速率**：数据率

**带宽**：单位时间内信道能通过的最高数据率

**吞吐量**：单位时间内通过某网络（信道或者接口）的实际数据量

**时延**

发送时延：发送端发送一个完整的数据帧所需要的时延

传播时延：电磁波在信道中传播所需要的时间

处理时延：主机或路由器处理数据分组时花费的时间

排队时延：在路由器中等待分组时间

**时延带宽积**——以比特为单位的链路长度

**往返时间RTT**

**利用率**：包括信道利用率和网络利用

其他非性能特征

### 计算机网络的体系结构 **——-分层次的体系结构**

SNA系统网络体系结构

OSI标准——由国际标准化组织制定的网络标准，但在实际应用中被TCP/IP协议替代

TCP/IP协议

协议与划分层次——

网络协议：（明确规定交换数据的格式和有关同步问题）为进行网络中的数据交换而采取建立的规则，标准或约定

三要素：语法 语义 同步

**具有五层协议的体系结构**（结合OSI的七层协议体系结构和TCP/IP的四层结构）

应用层——通过应用进程间的交互来完成特定网络应用

运输层——向两个主机进程之间的通信提供通用的数据传输服务具有复用和分用的功能

（两种协议——TCP协议UDP协议）

网络层——分装成数据包——IP数据报使用IP协议

数据连接层——分装成帧

物理层——考虑的是比特流的传输问题，屏蔽传输媒体的差异性

相关概念：

协议数据单元PDU：OSI参考模型为对等层次之间传送的数据单位的命名

实体：任何可以接受或者发送信息的软件进程或者硬件

协议：控制两个对等实体进行通信的规则的集合

在协议控制下，下层向上层提供服务，所以协议是水平的，服务是垂直的

**TCP/IP协议族示意图**

# 第二章 物理层

### 重要内容

物理层的任务
几种常用的信道复用技术
几种常用的宽带接入技术，主要是ADSL，FTTx

### 物理层的基本概念

物理层的作用是屏蔽掉传输媒体和通信手段（即物理设备）的差异，
物理层的主要任务
确定与传输媒体的接口有关的一些特性，
1）机械特性
2）电气特性
3）功能特性
4）过程特性
完成数据在计算机内部（并行传输）与通信线路上（串行传输）之间的串并传输方式的转换

### 数据通信的基本知识

**1）数据通信系统的模型**

源系统（源点，发送器）——通信系统（传输线或者网络）——目的系统（接收器，终点）
常用术语：
消息：传送的信息
数据：消息的实体，即用特定方式表示的信息
信号：数据的电气或者电磁表现
信号可以分为两类：模拟信号和数字信号
**信道**：向某一个方向传送信息的媒体，包括
单向信道：一方发送，一方接收
双向交替信道：双方都可发送消息，但不能同时进行
双向同时信道：双方可同时发送信息
**调制**：将来自源信号的低频甚至直流信号进行变换，使得这种低频直流信号可以便于在信道内传输
两种调制方法：
**基带调制**： 把数字信号转换为另一种形式的数字信号，即仅对信号的波形进行变换，可称之为编码调制

![](https://img-blog.csdn.net/20180918172905582?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
**带通调制**：使用载波进行调制，将基带信号的频率般到高频段，并将之转换为模拟信号


![](https://img-blog.csdn.net/20180918172947184?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

**传输媒体：
**引导性传输媒体：

双绞线，同轴电缆，光缆，

非引导型传输媒体：
即无线传输

### 信道复用技术

复用，即信道共享，几种常见的信道复用技术：频分复用，时分复用，统计时分复用

通过复用器和分用器进行信号的复用和分用

**频分复用FDM**

用户在同样的时间内占用不同的频率带宽而复用同一个信道

**时分复用TDM**

将时间划分为相同的时分复用帧TDM，在不同的时间占用相同的频带宽度，

**统计时分复用STDM**

改进的时分复用，按需动态分配时隙，而不是固定分配时隙 （时隙数小于连接在集中器上的用户数，使得每次传送的STDM帧中的分组都是满的

**波分复用WDM**

光的频分复用，利用在光线技术通信中；

**码分复用CDM**

每个用户在相同的时间使用相同的频带进行通信，但各用户使用经过挑选的不同码型，从而使得个用户之间可以进行独立的通信

### 数字传输系统

### 宽带接入技术

有线宽带接入——ADSL技术和FTTX技术

非对称数字用户线ASDL技术是用数字技术对现有的模拟电话用户线进行改造，使其能够承载宽带业务的一种技术；

光纤同轴混合网HFC在有线电视网的基础上开发的

光纤到户技术FTTH

# 第三章 数据链路层

### 重要内容

数据链路层点对点信道和广播信道的特点以及这两种信道使用的协议的特点

数据链路层的三个基本问题 **:封装成帧，透明传输，差错检测**

以太网MAC层的硬件地址

适配器，转发器，集线器，网桥，以太网交换机的作用以及使用场合

数据链路层使用的信道主要有以下两种：

**点对点信道：**使用一对一的点对点通信方式

**广播信道：**使用一对多的广播通信方式

### 使用点对点信道的数据链路层

链路：从一个节点到相邻节点的一段物理线路

数据链路：通信协议加上物理通道（使用网络适配器实现这些网络协议）

点对点信道的数据链路层的协议数据单元—— **帧**

网络层协议数据单元——IP数据报（数据报，分组或包）

**数据链路层的作用就是将网络层的数据包封装成帧（交给物理层）发送到链路上；或者把（从物理层中）接收到的帧中的IP数据报取出并交给网络层；**

数据链路协议的三个基本共同问题：封装成帧，透明传输，差错检测

### 封装成帧

将IP数据报的前后分别添加首部和尾部构成帧，以便于接收端能够在物理层的比特流中知道帧的开始和结束，即进行 **帧定界；**

此外，首部和尾部还要添加许多控制信息，链路层协议规定了所能传送的帧的数据部分长度上限， **最大传送单元——MTU**

（当传送的数部份是可打印的ASCII码组成的文本文件时，我们可以使用不可打印符来作为帧定界符）

### 透明传输

透明传输的概念是指在数据链路层传输时，所传输的数据在数据链路层没有任何的阻挡，接收方所收到的数据和发送方发送的数据没有任何差别，也就是说，数据链路层对其传输的数据帧是完全透明的；

**字节填充**：在传输的过程中，为防止数据部分出现帧定界符，使得接收方误以为收到的数据提前结束，所以采用转义字符的方法，将在数据部分出现的控制字符前插入转义字符，，在接收方的数据链路层将插入的转义字符删除；

![](https://img-blog.csdn.net/2018091911121924?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

### 差错检测

差错检测指的是在传输过程中产生的比特差错；

**误码率：**一段时间内，传输错误的比特占传输总数的比率；

目前在数据链路层采用的差错检验方式是 **循环冗余检验；**

**在数据链路层我们保证的是无比特差错，而并无传输差错，传输差错还包含帧丢失，帧重复，帧失序等；**

### **点对点协议PPP**

ppp协议是端计算机和ISP惊进行通信时所使用的数据链路层协议

**PPP协议的特点**

IETF认为PPP协议应满足的需求：
1）简单

2）封装成帧

3）透明性

4）支持多种网络协议

5）支持多种类型数据链路

6）具有差错检测功能

7）能够检测连接状态

8）定义最大传输单元

9）网络层地址协商

10）数据压缩协商

**PPP协议的组成**

**1）**一个将IP数据报封装到 **串行**链路的方法

**2**，一个用来建立，配置和测试数据连路连接的 **链路控制协议LCP**

**3）**一套网络控制协议NCP（每个协议用来支持不同的网络层协议）

**PPP协议的帧格式**

![](https://img-blog.csdn.net/20180919120833580?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

各字段的意义

F为标志字段，表示一个帧的开始或者结束

A为地址字段，规定为0xFF

C为控制字段，规定为0x03

协议字段区分信息部分的内容（为0x0021时表示信息字段时IP数据报，为0xC021时，表示信息字段为PPP链路控制协议LCP的数据，为0x8021 时表示这是网络层的控制数据）

信息字段的长度可变，不超过1500字节

FCS字段表示的是帧检验序列

### 字节填充

当信息字段中出现和标志字段相同的比特组合时，则进行字节填充的办法使得数据部分能够完整的传送到接收端

零比特填充

### PPP协议的工作状态

用户拨号接入ISP——→端机向ISP发送一系列链路控制协议LCP分组，→进行网络层配置→网络层协议NCP向端机分配IP地址

![](https://img-blog.csdn.net/20180919134728401?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

### 使用广播通信的数据链路层

局域网主要使用的就是广播信道

**局域网的数据链路层**

**局域网的特点：**网络为一个单位所拥有，地理范围和站点数目有限

局域网的优点：

1）具有广播功能

2）便于系统的扩展和演变

3）提高了系统的可靠性，可用性。生存性

局域网的分类：星型网，环形网，总线网（最为著名的以太网就是总线网）

共享信道的两种技术方法：

1)静态划分信道

2)动态媒体解入控制（随机接入，受控接入）

由于商业竞争关系而未能形成统一的局域网标准，所以鉴于此将局域网的数据链路层划分为了两个子层—— **逻辑链路控制层LLC和媒体接入控制层MAC层，**MAC层用来解决媒体输入相关的问题

### 适配器的作用

１）适配器用来连接计算机与局域网；同时要能够实现以太网协议；

２）适配器和局域网之间的通信是通过双绞线或者电缆以串行传输的方式进行的；而适配器与计算机之间的通信是并行方式进行的，之所以适配器要能够进行两种数据传送方式之间的串并行转化；

３）网络上的数据率与计算机总线上的数据率不同，因此适配器要安装内存储器以进行两种速率下的缓存功能

４）适配器要能够实现以太网协议

５）计算机的硬件地址就在适配器的ROM中；（计算机的软件地址IP地址，在计算机的存储器中）

![](https://img-blog.csdn.net/2018091915553234?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

### CSMA/CD协议

**基于以太网的广播通信方式**采用的具有检测功能的协议

要点：
多点接入

载波监听

碰撞检测

多点接入——即总线网络的方式

载波监听——每个站在发送前和发送的时候都不断的检测信道是否有其他站点在发送信号

碰撞检测——边发送边监听，若在信道上有至少两个站点同时发送信息便发生碰撞，使得两边发送的信息都作废；

**碰撞检测的相关知识——**

电磁波在1km的电缆传送的传播时延约为5μs

所以一个站点 **最长**在发送信息之后的 **一个往返时间（即两倍的端到端的传播时延）**内才能收到碰撞信号，所以一个站点在发送信号的一段时间内，是不确定是否会遭遇碰撞的；——即 **以太网发送的不确定性；**而这段不确定是否会发生碰撞的时间称为 **争用期（或碰撞窗口）；**

而在争用期如果发生碰撞则双方都需要进行重传操作，而以太网使用的确定重传时间的方法称为 **截断二进制指数退避算法；**

这是一种 **动态退避**算法，在争用期（具体为51.2μs）内可传送512bit，即64字节，所以发生碰撞的时间就在站点发送512bit的时间内（也就是说，如果站点在发送一个完整的512字节的过程中没有检测到碰撞信号，则说明以后的发送都不会发生碰撞，可以完整的发送完整个数据帧）

具体的算法原理在这就不详细说明了，在动态退避的过程中，为了使所有的站点发送的每一个数据帧逗都能保证得到想要的发送结果信息（是否发生碰撞），则规定一个数据帧的最小长度应该为512bit，这样，每个站点在发送所有的数据帧时都能够在发送完之前知道是否发生了碰撞，是否需要重传（如果小于最小帧长64字节，则有可能在完全发送完之后才发生碰撞，这样发送站点就不知道发生了碰撞，即不会重传该帧），因此，在以太网中多点信道中，凡长度小于64 字节的帧都是由于冲突而发生异常终止的无效帧，在接收站点的适配器中即可方便判断出该结果；

规定 **帧间最小间隔9.6μs**，是为了使刚刚收到数据帧站点能够有时间对手的数据帧作出反应

**强化碰撞**

——在发生碰撞之后除了立即停止发送数据之外，还要发送32bit或48bit 的人为干扰信号，目的是为了能够让所有站点都知道发生了碰撞

### 使用集线器的星形拓扑结构

双绞线以太网的出现，是局域网发展史上的一个重要的里程碑

集线器的特点：
集线器使用电子器件模拟实际电缆线的工作，所以使用集线器的以太网在逻辑上还是一个总线网，各站逻辑上共享总线。而且是用的还是协议；

集线器的接口通过两对双绞线与计算机上的适配器相连；一个集线器像是一个多接口的转发器；

集线器工作在物理层，每个接口只简单地转发比特，不进行碰撞检测，

集线器采用专门的芯片，进行自适应串音回波抵消；（使得同一接口的强信号不会对弱信号产生干扰）

### MAC层的硬件地址

硬件地址又称为物理地址或MAC地址

硬件地址其实不算严格意义上的地址，因为并没有指明具体位置，硬件地址是适配器唯一编号，用来唯一的标识每台电脑上的适配器

硬件地址在适配器生产时固化在适配器的ROM中；

**MAC地址的格式**

总共64位（6字节）前三字节由管理全球硬件地址的机构——注册管理机构RA向适配器制造公司出售称为 **组织唯一标识符OUI**，后三字节由制造公司自行分配，称为扩展标识符，（其中前三字节中有两位是用来标识是否位单播地址和是否属于全球管理的）

### MAC帧的格式

![](https://img-blog.csdn.net/20180920163644316?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

目的地址和源地址指的是硬件地址

类型字段用来标志上层使用的是什么协议

FCS帧检验序列，使用CRC检验

前同步码是为了使适配器的时钟与比特流达成同步；

同时我们要注意的是在MAC帧中并没有数据长度的标识，但由于传输时使用的是曼彻斯特编码的方式，所以通过对曼彻斯特编码的信号特点的观察便可确定是否传送完毕；（曼彻斯特编码信号的码元正中间有一次电压转换）

### 以太网的扩展

**在物理层扩展以太网**

**在数据链路层扩展以太网**

通过网桥扩展以太网

通过以太网交换机扩展

虚拟局域网

# 第四章 网络层

### 重要内容

虚拟互联网的概念

IP地址与物理地址的关系

传统的分类的IP地址（包括子网掩码）和无分类域间路由选择CIDR

路由选择协议的工作方式

### 网络层提供的两种服务

面向连接和无连接的传送服务

在互联网中，网络层向上只提供简单灵活的，无连接的， **尽最大努力交付**的数据报服务

即网络层不提供服务质量的承诺

### 网际协议IP

三个协议

地址解析协议ARP

网际报文管理协议ICMP

网际组织管理协议IGMP

这三种协议与IP协议的关系___________

![](https://img-blog.csdn.net/20180920170421121?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

**虚拟互联网络的概念**

**___即逻辑互联网络,忽略物理层的客观异构性,**在网络层看起来好像是一个统一的网络,即互联网可以有多种异构的网络组成

网络互联的一些中间设备_

物理层:转发器

数据链路层:网桥

网络层:路由器

网络层以上:网关

### 分类的IP地址

IP地址的概念:
用来唯一标识全球连接在互联网上的主机的接口的标识符

IP地址的划分方式历史:
分类的IP地址

划分子网

构成超网

**分类的IP地址**

![](https://img-blog.csdn.net/20180920201230166?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

IP地址前几位为类位别，标明该IP地址属于哪类

IP地址的 **点分十进制表示法——**把IP地址的每八位用十进制表示，便于记忆书写

常用的三类IP地址：
**本网络**：A类地址中网络号全为0的IP地址

环回测试：A类地址中网络号为01111111的IP地址用作本地软件 **环回测试**本主机的进程之间的通道

**路由器仅根据目的主机IP地址中的网络号来转发分组**

实际IP地址是主机与网络链路之间的一条链路的标识（一个主机连接在两个不同的网络上时，该主机对应的就有两个IP地址）

一个网络是指具有相同网络号的主机的集合， **因此用网桥或转发器连接起来的若干局域网属于同一个网络**

互联网上的网络号都是平等的，与其范围大小没有关系

**无名网络：**两个路由器直接相连时并不分配IP地址，这两个路由器之间的网络称为无名网络，或无编号网络

**IP地址与硬件地址**

硬件地址时物理层和数据链路层使用的地址

IP地址是IP数据报在网络层及以上各层使用的一种逻辑地址

MAC帧中的源地址和目的地址都是硬件地址，整个IP数据报在物理层被封装在数据部分，IP地址对数据链路层不可见

数据报在路由其之间传送时，途径的路由器地址不出现在IP数据报中，当前路由器根据目的IP地址自主路由出下一路由器地址

分组每次经过路由器转发时都要将MAC的首部和尾部丢弃重新封装—— **变换MAC帧中的目的地址和源地址**

### 地址解析协议ARP

ARP协议:根据已知的IP地址解析出该主机的硬件地址;

RARP协议:根据硬件地址解析出该主机对应的IP地址

**主机ARP高速缓存:**用来存放从IP地址映射硬件地址的映射表,并且动态更新(方法:新增或超时删除)这个映射表;

新增的方法:

通过向本局域网内所有的主机发送ARP请求分组,在得到响应分组后便将这个目的主机的硬件地址写入ARP高速缓存中

同时,ARP高速缓存中对每个硬件地址都设置了生存时间,超过生存时间的硬件地址便进行删除操作,便于进行动态更新,防止出现发送到错误(过时的)硬件地址处;

注意： **地址解析协议ARP只能用来解决同一个局域网（包括该网络和与该网络相连的路由器）内的地址映射，网络之间的路由并能不能做到；**

从硬件地址到IP地址的解析每次转发分组时都要重复进行，但这种开销是不可避免的，是为方便的在各种异构网络之间进行转发工作而屏蔽网络硬件之间的异构性，从而体现出虚拟网络的含义；

### IP数据报的格式

![](https://img-blog.csdn.net/20180924103922355?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

其中，

首部检验和

首部检验和的作用：用于检验数据报在传送的过程中其首部是否出错；

检验方法：在发送方将IP数据报的首部划分为许多16位的字序列；并把检验和字段置零，用反码运算术将字相加之后，将得到的和的反码写入检验和位置；在接受方接收到数据报之后，使用相同的方法将首部所有的字（包括检验和）相加一次，若没有出错则，得到的结果必然为零，最后的结果便可作为是否出错的判断标志；

反码求和：0+0=0；0+1=1；1+1=0，同时产生进位；最高位产生进位时最后的结果加+1；

### 划分子网

### 构造超网

### 网际控制报文协议ICMP

为更有效的转发IP数据报并提高交付成功的机会

ICMP数据报装在IP数据报中，作为其数据部分出现

![](https://img-blog.csdn.net/20180925062955497?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

ICMP数据报有两种： **ICMP差错报告报文**和 **ICMP询问报文**

改变路由报文：（ **重定向）**——互联网主机中也存在路由表，但主机中的路由表并不实时更新，（不和路由器定期交换路由信息），所以主机中的路由表更新的方法就是主机通过接收这种 **来自路由器的**改变路由报文来更新其路由表；

ICMP的应用——PING（分组网间探测）：用来测试两台主机之间的连通性

用在UNIX操作系统中用来跟踪一个分组从源点到终点的路径

### 互联网的路由选择协议

**1，理想的路由算法**

**2，分层次的路由选择协议：**减少路由器之间的路由信息量；保密

**3，自治系统AS：**在单一技术管理下的一组路由器（一个AS对其他AS表现出的是 **一个单一的和一致的路由选择策略**）

**4，两种路由选择协议——**

**内部网关协议IGP：**在自治系统 **内部**使用的路由选择协议， **域间路由选择**，有多种，如RIP，OSPF

**外部网关协议EGP：**在自治系统 **之间**使用的路由选择协议， **域内路由选择，**目前使用的是BGP协议

### **1，内部网关协议RIP**

**1）工作原理**

是一种 **分布式**的基于 **距离向量**的路由选择协议

分布式：每个路由器不断地和 **相邻**路由器交换信息；(所交换的式当前路由器知道的所有路由信息)

距离向量：从当前路由器每经过一个路由器则距离加一；记录到达每个路由器的距离，以找出最小距离；

**2）距离向量算法**

**3）RIP协议的报文格式**

RIP2可以支持变长子网掩码和无分类域间路由选择CIDR

RIP2的报文格式

![](https://img-blog.csdn.net/20180926153642223?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

（RIP报文通过运输层的用户数据报UDP传送，使用UDP端口520）

**特点：好消息传播的快。坏消息传播的慢**

### 内部网关协议OSPF

**1，OSPF的基本特点**

**开放最短路径优先——**为克服RIP协议制定的协议

使用了 **Dijkstra的最短路径算法；（**最短路径算法详见博文 **：）**

**特征：**并不表示其他的路由选择协议不是最短路径优先；（实际上所有在自治系统内的路由选择协议都是要找一条最短路径）

使用分布式的 **链路状态协议，**

**2，洪范法：**

**路由器通过所有的端口向所有的相邻路由器发送信息，而所有的相邻路由器也是同样的做法，（但发送的对象不包括之前向他发送信息的那个路由器），从而最终使得整个局域网都得到该信息的一个副本，**

而发送的信息就是与本路由器 **相邻的**所有路由器的链路状态（链路状态是指相邻路由器及到达该路由器的 **代价**）

只有链路状态发生变化时，才使用洪范法发送信息，（不是定期交换）

### 外部网关协议BGP

外部网关协议用来解决不同 **自治系统之间**的路由选择策略；

边界网关协议不追求寻找最佳路径，而是在可到达的基础上找到一条相对较好的路径；

BGP发言人：在BGP协议中，一个自治系统中用来与其他自治系统（通过TCP连接）交换路由信息的路由器；

交换信息的两个BGP发言人彼此成为临站或对等站

所交换的信息是可达性信息、

每个发言人除了要运行BGP协议外，还要运行本自治系统内部的协议；

### 路由器的构成

路由器的结构

两部分——路由选择部分 和 分组转发部分

![](https://img-blog.csdn.net/2018092616263327?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

路由选择部分：

控制部分，核心是 **路由选择处理机，**路由选择处理机的作用是构造路由表，同时定期更新维护路由表路由表；

分组转发部分：

由三部分组成——输入输出端口，交换结构

交换结构的工作是将收到的分组根据路由表从输入端口转发到输出端口；

三种转发方法：

1）通过存储器进行交换

2）通过总线进行交换

3）通过纵横交换结构（总线网）进行交换

### IPv6

### 从IPv4向IP v6的过渡

**双栈协议**

**隧道技术**

### IP多播

基本概念：
多播即一对多的通信

多播组的IP地址为D类IP地址；（多播地址只能用来当作目的地址，不能用作源地址）

**1，在局域网上进行硬件多播**

多播组的MAC地址：

是由MAC地址和D类IP地址的后23位拼接起来的；

**IGMP协议**

网际组管理协议

是让连接在本地局域网上的多播路由器知道在本局域网上有多少主机接入或退出了多播组

多播组协议的特点：

多播转发必须动态地适应多播组成员的变化

多播路由器在转发多播数据报时，不能进根据数据包中的目的地址来转发数据报，还要知道数据报的来源（多播组内的成员发送信息时，就不用再向该成员转发数据报）

多播成员或非多播成员均可发送多播数据报

IGMP协议的功能：

2，网际组管理协议IGMP

3，多播路由选择协议

### 虚拟专用网VPN

### 网络地址转换NAT

# 第五层 运输层

### 重要内容

运输层的作用

端口和套接字的意义

无连接的UDP的特点

面向连接的TCP的特点

在不可靠网络上时先可靠传输的原理

TCP的滑动窗口，流量控制，拥塞控制和连接管理

### 运输层协议概述

运输层用来解决进程之间的通信问题，属于面向通信部分的最高层

运输层向用户屏蔽了下面网络核心的细节；

为了能够满足同一主机的不同进程间的通信要求，运输层需要一个很重要的功能—— **分用与复用**（分用指 **发送方**不同进程可以使用同一运输协议进行发送数据报。分用指接收方的运输层可以将接收到的数据报正确交付给不同的进程）

**运输层还要对从网络层收到的数据报进行差错检测，（IP数据包中的首部中的检验和字段只是对首部进行检查，并不对数据部分进行检查）**

运输层的两个主要协议： 用户数据报协议UDP——无连接

传输控制协议TＣＰ——面向连接

### **运输层的端口**

端口是指软件端口,是应用层的各种协议 **进程与运输实体**进行层间交互的一种地址

(数据报在网络上运输的终点),主机通过端口将数据报分发给不同的进程;

端口号只具有本地意义,是为了标志本计算机中各个进程在和运输层交互时的层间接口(不同计算机中相同的端口是没有任何关联的)

TCP/IP协议中,在运输层用16位端口号来标志一个端口,一个主机总共有65535个端口,

**服务器使用的端口号**

**客户端使用的端口号**

### **用户数据报协议UDP**

**UDP概述**

**特点:**

无连接,

尽最大努力交付;

面向报文

没有拥塞控制

支持一对一,多对多,多对一,一对多的交互通信

首部开销小

**UDP的首部格式**

### 传输控制协议TCP

**特点:**

面向连接的运输层协议

点对点连接

可靠交付

提供全双工通信

面向字节流(UDP面向数据报)

**TCP的面向连接**

**每一条TCP连接只有两个端点_套接字**

套接字=(IP地址:端口号)

(同一个端口号和同一个IP地址均可有多个TCP连接)

### 可靠传输的原理

TCP在不可靠传输的网络层之上提供可靠传输的服务,必须采取相关的措施

**1.停止等待协议**

分组发送之后必须暂时保留该分组的副本

每个分组进行编号

发送确认

超时重传

**TCP报文段的首部格式**

![](https://img-blog.csdn.net/20180926192307850?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

TCP传送的数据单元是报文段

检验和字段检验的包括首部和数据部两部分

窗口指的是发送方的接收窗口，窗口值的意义：从本报文段首部中的确认号算起，接收方 **目前**允许对方发送的数据量；（窗口值是不断动态变化的）（ **动态确认机制**）

### TCP可靠传输的实现

**1，以** **字节为单位的滑动窗口——连续ARQ协议**

发送窗口：发送窗口内的数据的可连续的发送出去，而不需要等待对方的确认（从而提高信道利用率）

滑动窗口：发送方每收到一个接受确认，就将发送窗口的向前滑动一个字节的位置；

接收方采用 **积累确认**的方式（对有序的几个分组只确认最后一个分组）

TCP的滑动窗口是以字节为单位的；

**2，超时重传的时间选择**

**3，选择确认SACK**

### **TCP的流量控制**

### **TCP的拥塞控制**

**拥塞：在某段时间，若对网络中的资源需求超过了该资源所能提供的可用部分，使得网络的性能变坏；（资源包括——链路容量，交换节点中的缓存，处理机）**

**TCP的拥塞控制方法**

**慢开始**

**拥塞避免**

**快重传**

**快恢复**

### **TCP的运输连接管理**

运输连接管理的目的是为了使运输连接的建立和释放都能够正常的进行

# 第六章 应用层

### 本章概述

数据传输的终点是主机进程，而网络通信的目的是为了给应用提供服务；本章中的各应用层协议主要讲述了各应用的进程是如何在主机中完成通信工作的；

### 重要内容

域名系统DNS

万维网和HTTP协议，万维网两种不同的搜索引擎

电子邮件的传送过程

动态主机配置协议DCHP

网络管理的三个组成部分

P2P文件系统

### 域名系统DNS

**概述**

域名系统是为了使对用户来说32位的IP地址更加容易记忆和使用而选择的一种映射方式；

应用层软件一般直接使用的是域名而非IP地址，在网络层进行数据传输时才将域名转化为路由中使用的IP地址；

互联网的域名结构是层次结构的，用户通过 **域名服务器**将域名转化为IP地址供网络层使用

DNS被设计成一个联机分布式的数据库系统，并采用客户服务器方式；

DNS中大部分域名都在本地进行解析，只有少数域名需要在互联网上进行解析；

**互联网的域名结构**

**采用层次树状命名结构**；域名由标号组成；

每一个标号不超过63个字符；标号不区分大小写；完整的域名不超过255个字符；

域名的等级结构：

顶级域名：

1）国家顶级域名

2）通用顶级域名

3）基础结构域名

二级域名由顶级域名组织自行划分

**域名服务器**

域名管理范围采用划分 **区**的方法；一个域名服务器所管辖的范围叫做区；

一个区中的界点必须连通；每个区设置相应的权限域名服务器；

域名服务器的层次划分：

根域名服务器

顶级域名服务器

权限域名服务器'

本地域名服务器

主机向本地域名服务器采用 **递归查询**的方法

本地域名服务器向根域名服务器采用 **迭代查询**的方法；

同时，为了提高查询效率，减少查询时的网络开销，在每级域名服务器中都采用的高速缓存来存储经常或最近被查询的到的域名对应的IP地址

### 文件传送协议FTP

基于TCP的FTP协议

主要功能：减少或消除在不同操作系统下处理文件的不兼容性，（包括文件的控制方式，命名方式等）

特点：属于文件共享协议；联机访问；

基本原理：

使用客户服务启方式；服务器中分为两大进程： **主进程**用来接收请求消息；接收到文件传送消息之后启动 **若干从属进程**处理消息；主进程仍然处于等待状态；

主进程和从属进程并发进行的；

在数据传送过程中，启动两个从属进程： **控制进程和数据传送进程；**其中控制进程用来传送数据传送过程中产生的控制信息；数据传送进程传送数据；同时建立两条连接：控制连接（２１号端口）和数据传送连接（２０号端口）；

基于UDP的TFTP协议

**简单文件传送协议；**使用UDP数据报进行传送；只支持传输不支持交互；

主要特点：

１）每次传送的报文大小为５１２字节，（最后一个报文可不足５１２字节），并在最后一个字节中设置结束服标志；

２）数据报文进行编号；（从１开始）

３）支持ＡＳＣＩＩ 码或二进制传送

４）可对文件进行读或写；

５）使用简单的首部

６）每次发送完一个UDP之后要进行确认；

### 远程终端协议TELNET

作用：提供远程终端控制与访问操作；即通过互联网对远程终端进行访问控制；能够适应许多计算机和操作系统的差异;

将不同计算机操作系统上产生的控制信息转化成统一的格式网络上进行传送,然后转化成本地计算机需的格式;

### 万维网WWW

万维网是一个大规模的,联机式的信息储藏所;

使用的统一资源定位符URL来唯一的标识万维网中的各种文档位置;

万维网是一个分布式的超媒体系统;(是超文本系统的扩展)

万维网使用连接的方法进行站点之间的访问;

万维网以客户服务器的方式工作:客户向服务器发出访问请求,然后服务器将万维网文档发送给客户端;客户端即运行在主机中的浏览器;

在一个客户程序主窗口中显示的万维网文档称为页面;

万维网使用超文本传送协议HTTP进行文档传输工作;

万维网使用超文本标记语言HTML描述万维网页面;

URL的格式:

常用的协议:http协议,ftp协议

路径:是指文档文件在主机中的位置

**超文本传送协议HTTP**

**HTTP是面向事务**的应用层协议,规定了浏览器怎样向万维网服务器请求万维网文档;以及服务器怎样将文档传送给浏览器;

HTTP协议使用面向连接的TCP协议作为运输层协议保证了传输的可靠性;

**代理服务器**:又称为万维网高速缓存;将最近的一些请求及其响应存储在代理服务器的本地磁盘中,避免了近期有相同请求时再次访问网络;

将很大一部分同信活动局限在局域网内部;

HTTP的保报文结构:

两类报文:请求报文和响应报文

![](https://img-blog.csdn.net/20181001175531220?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNDY4MTMw/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

在服务器上存放用户的信息______使用cookie

### 万维网的文档

**超文本标语言HTML**

**动态万维网文档**

**活动万维网文档**

当浏览器请求万维网文档时,服务器将返回给浏览器一段活动文档的程序副本,使程序副本在客户端运行,

### **万维网的信息检索**

**全文检索**

**分类目录检索**

### 动态主机配置协议

即插即用联网

### 应用进程跨网络的通信

系统调用

应用程序编程接口

### P2P应用

没有服务器,主机之间通过对等方式进行交互通信

# 第七章 网络安全

### 重要内容

计算机网络面临的安全威胁和一些主要问题

对称密匙密码体制和公匙密码体制

数字签名与鉴别

网络安全协议IPsec协议族和运输安全协议SSl/TSL的要点

系统安全:防火墙和入侵检测

### 网络攻击

两种:被动攻击和主动攻击

**被动 攻击:**从网络上窃听信息,作为第三者不破坏网络原本的通信

**主动攻击:**

几种常见的方式:

**篡改**:篡改,中断或伪造报文

**恶意程序:**

计算机病毒

计算机蠕虫

木马

逻辑炸弹

后门入侵

流氓软件

**拒绝服务:**向服务器不断发送消息使得服务器一直处于繁忙状态;

### 密码体制

**对称密匙密码体制**:加密密匙与解密密匙使用相同的密码体制;

**公匙密码体制:**使用不同的加密密匙与解密密匙;

### **数字签名**

**数字签名的功能:**

报文鉴别

报文的完整性

不可否认(确认报文的发送方)

### 鉴别

鉴别是验证通信对象是否正确，并且检验所传送的报文的完整性；、

报文鉴别：

### 密匙分配

### 互联网使用的安全协议

### 系统安全:防火墙与入侵检测

防火墙:一种访问控制技术,禁止不必要的同通信;

入侵检测系统:IDS

# 第八章 互联网上的音视频服务

### 重要内容

多媒体信息的特点

流媒体的概念

IP电话使用的几种协议

改经"经最大努力交付"的几种办法


互联网IP层提供 最大交付 和 分组独立交付

TCP协议解决IP层不能可靠交付的问题

多媒体信息在互联网上的传输

多媒体数据的传输对时延和抖动有较大的要求——边传输边播放

音视频传输的特点：

容忍丢失

**互联网提供的三类音频视频服务——**

流式存储音视频——边下载便播放

流式实况音视频——边录制边发送（多播）

交互式音视频——实时交互式通信

流式存储音视频——

媒体播放器的主要功能：管理用户界面，解压缩，消除时延抖动，处理传输带来的差错

具有 **元文件**的万维网服务器

元文件是用来描述或指明其他文件的一些重要信息的非常小的文件，

媒体服务器

媒体播放器向媒体服务器（而不是万维网服务器）请求音视频文件，对流媒体的传输采用TCP协议而不是UDP

实时流协议RTSP

流式实况音视频——

交互式音视频

IP电话——实况交互式音频

IP电话网关——公用电话网和IP网络的接口设

作用：在呼叫阶段进行电话信令转换

在通话期间进行话音编码的转换

IP电话所要使用的几种应用的协议——

实时运输协议RTP：为实时应用提供端到端的运输，但不保证任何运输质量

实施运输控制协议RTCP：服务质量的监控与反馈，媒体间的同步以及多播组成员间的标志

H.323：（信令标准）在互联网的端系统之间进行实时声音和视频会议的标

会话发起协议SIP

改进最大努力交付的几种方法：

为使多媒体信息能够在互联网上得到更好的运输体条件，改变方法就是改变之前平等对待所有运输分组

的协议，使得多媒体数据分组在互联网上运输时能够得到相应的优先级（获得更好的服务质量）

服务质量：服务性能的总效果，此效果决定用户对服务的满意程度（可用性，差错率，响应时间，吞吐量

，分组丢失率，连接建立时间等性能指标）

几种方法——使互联网提供服务质量：

即分组的分类，标记，管制，调度，呼叫接纳

1）调度机制

调度即排队的规则，按优先级排队；借助分类程序对于分组按照权重分类，形成不同权重的队列进行传输

2）管制机制

1，控制数据流的平均速率
2，限制峰值速率
3，限制突发分组数
————漏桶管制器
3）漏桶机制与加权公平排队相结合

综合服务IntServ和资源预留协议RSVP——最初试图将互联网提供的服务划分为不同的类别
IntServ可对单个的应用会话提供服务质量的保证——
资源预留

呼叫接纳

IntServ定义两类服务：

有保证的服务

受控负载的服务

IntServ的四个组成部分

资源预留协议

接纳控

分类

调度器

# 第九章 无线网络和移动网络
